BEGIN TRANSACTION;

CREATE EXTENSION pgcrypto;

CREATE TABLE users
(
    id       INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    login    VARCHAR(32)  NOT NULL UNIQUE,
    password VARCHAR(128) NOT NULL
);

CREATE TABLE data
(
    id       INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    owner    INTEGER      NOT NULL,
    data     BYTEA        NOT NULL,
    metadata VARCHAR(128) NULL
);

COMMIT;